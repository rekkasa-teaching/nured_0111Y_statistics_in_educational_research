---
title: "Στατιστική στην Εκπαιδευτική Έρευνα"
subtitle: "8ο μάθημα"
author: "Αλέξανδρος Ρέκκας"
date: "2025-11-28"
format:
  revealjs:
    theme: [default, custom.scss]
    slide-number: true
    logo: logo.jpg
    footer: "Στατιστική στην Εκπαιδευτική Έρευνα · 8ο Μάθημα"
    lang: el
    incremental: false
knitr:
  opts_chunk:
    fig.width: 10
    fig.height: 6
    dev: "svglite"
execute:
  echo: false
---

```{r}
library(showtext)
showtext_auto()
```

# Έλεγχος υποθέσεων

## Η λογική

\

> **Ορισμός**
>
> Έλεγχος μίας υπόθεσης είναι μία στατιστική μέθοδος που χρησιμοποιεί τα δεδομένα
> ενός δείγματος για να αξιολογήσει μία υπόθεση για τον πληθυσμό

## Το παράδειγμα

Για τα επόμενα, θα χρησιμοποιήσουμε το παρκάτω παράδειγμα:

* Έχουμε δείγμα 25 μαθητών των οποίων μετρήσαμε τα ύψη ($X$: το ύψος του μαθητή)
* Υποθέτουμε ότι τα τα ύψη των μαθητών προέρχονται από μία κανονική κατανομή
* Ο μέσος όρος του ύψους στο δείγμα είναι $\bar{x} = 108$
* H **πραγματική** τυπική απόκλιση είναι $\sigma = 4$

## Το παράδειγμα

Άρα, το τυπικό σφάλμα του μέσου όρου $\bar{x}$ είναι:
$$
\text{se}(\bar{x}) = \frac{\sigma}{\sqrt{n}} = \frac{4}{\sqrt{25}} = \frac{4}{5} = 0.8
$$

## 1ο βήμα: Διατύπωση της υπόθεσης

Το βήμα αυτό περιλαμβάνει τον ορισμό δύο συμπληρωματικών υποθέσεων:

* $H_0$: Η **μηδενική υπόθεση** συνήθως λέει ότι δεν υπάρχει αλλαγή/διαφορά στον
  πληθυσμό. Γενικά, διατυπώνει την περίπτωση να μην υπάρχει καμία σχέση μεταξύ
  των ποσοτήτων που μελετάμε.
* $H_1$: Η **εναλλακτική υπόθεση** είναι το συμπλήρωμα (η αντιστροφή) της
  $H_0$. Συνήθως, αποτυπώνει την περίπτωση να υπάρχει μία αλλαγή/διαφορά/σχέση.

## 1ο βήμα: Διατύπωση της υπόθεσης

Για παράδειγμα, θέλω να ελέγξω αν η μέση τιμή του ύψους των μαθητών νηπιαγωγείου
της Φλώρινας είναι 100 cm.

\

\

$H_0$: Το μέσο ύψος τον μαθητών είναι 100 cm ($\mu = 100$)  

\

$H_1$: Το μέσο ύψος τον μαθητών δεν είναι 100 cm ($\mu \neq 100$)  

## 2ο βήμα: Καθορισμός του στατιστικού

> **Ορισμός**
>
> Στατιστικό ονομάζεται οποιαδήποτε μαθηματική έκφραση περιλαμβάνει
> αριθμούς και τυχαίες μεταβλητές, π.χ. το $3X+2$ έιναι ένα στατιστικό.

\

Η **τυπική τιμή** είναι ένα στατιστικό.

## 2ο βήμα: Καθορισμός του στατιστικού

\

Τα στατιστικά έχουν **κατανομές**.  

\

Η τυπική τιμή υπό την προϋπόθεση ότι ισχύει η
$H_0$ είναι:

$$
z = \frac{\bar{x} - 100}{\frac{\sigma}{\sqrt{n}}} \sim N(0, 1)
$$

\

Αφού η κατανομή του στατιστικού είναι γνωστή, είναι γνωστά και τα
**ποσοστημόριά** της.

  
## 3ο βήμα: Επιπέδο σημαντικότητας

Το επίπεδο σημαντικότητας ορίζει πόσο μακριά ανεχόμαστε να "πέσει" η μέτρηση στο
δείγμα μας από την τιμή που ελέγχουμε.

\

Αν η $H_0$ ισχύει ($\mu = 100$), πόσο απίθανος ανεχόμαστε να είναι ο μέσος όρος
στο δείγμα μας;

\

Αν πούμε ότι πιθανότητα εμφάνισης μιας τέτοιας τιμής κάτω από 5% είναι
απαράδεκτη, τότε το επίπεδο σημαντικότητας είναι 0.05 ($\alpha = 0.05$)
  

## 4ο βήμα: Απόφαση

```{r}

#| echo: false
#| eval: true


# Generate data for the standard normal distribution
tibble::tibble(
  x = seq(-4, 4, length.out = 1000)
) |>
  dplyr::mutate(y = dnorm(x)) |>
  ggplot2::ggplot(ggplot2::aes(x = x, y = y)) +
  # Main distribution curve
  ggplot2::geom_line(linewidth = 1.2, color = "#2C3E50") +
  # Left tail (below 2.5th percentile)
  ggplot2::geom_area(
    data = \(df) dplyr::filter(df, x <= qnorm(0.025)),
    fill = "#3498DB",
    alpha = 0.5
  ) +
  # Right tail (above 97.5th percentile)
  ggplot2::geom_area(
    data = \(df) dplyr::filter(df, x >= qnorm(0.975)),
    fill = "#3498DB",
    alpha = 0.5
  ) +
  # Add vertical lines at the critical values
  ggplot2::geom_vline(
    xintercept = c(qnorm(0.025), qnorm(0.975)),
    linetype = "dashed",
    color = "#2980B9",
    linewidth = 0.8
  ) +
  ggplot2::labs(
    title = "Τυπική Κανονική Κατανομή",
    subtitle = "Οι σκιασμένες περιοχές αντιπροσωπεύουν τα 2,5% των ουρών",
    x = "Τυπική τιμή (z-score)",
    y = "Πυκνότητα πιθανότητας"
  ) +
  ggplot2::theme_minimal() +
  ggplot2::theme(
    plot.title = ggplot2::element_text(size = 16, face = "bold", color = "#2C3E50"),
    plot.subtitle = ggplot2::element_text(size = 12, color = "#7F8C8D"),
    axis.title = ggplot2::element_text(size = 12, color = "#34495E"),
    axis.text = ggplot2::element_text(size = 10, color = "#7F8C8D")
  )
```


## Παράδειγμα

Θέλουμε να δούμε αν η χρήση κουκλοθέατρου κατά την αφήγηση παραμυθιού επηρεάζει
τον χρόνο που τα παιδιά παραμένουν συγκεντρωμένα, σε σύγκριση με την απλή
ανάγνωση από το βιβλίο.

\

Γνωρίζουμε από τη βιβλιογραφία ότι:

* Ο μέσος χρόνος συγκέντρωσης των παιδιών στο νηπιαγωγείο είναι **10 λεπτά**.
* Η τυπική απόκλιση ($\sigma$) είναι **2 λεπτά**.

## Παράδειγμα

Πήραμε τυχαίο δείγμα από 5 παιδιά στα οποία έγινε ανάγνωση με τη χρήση
κουκλοθέατρου:

\

> Παιδί 1: 11 λεπτά
>
> Παιδί 2: 15 λεπτά
>
> Παιδί 3: 13 λεπτά
>
> Παιδί 4: 12 λεπτά
>
> Παιδί 5: 14 λεπτά


## Παράδειγμα

Συχνά ακούμε τους γονείς να λένε:  
"Στέλνω το γιο μου στο κολυμβητήριο για να ψηλώσει". **Ισχύει;**

\

Από τη βιβλιογραφία γνωρίζουμε:

* Ο εθνικός μέσος όρος για τα αγόρια 5-6 ετών είναι 112 εκατοστά.
* Η τυπική απόκλιση ($\sigma$) του ύψους είναι 5 εκατοστά.


## Παράδειγμα

Πήραμε τυχαίο δείγμα από 5 αγόρια που πηγαίνουν κολυμβητήριο τουλάχιστον ένα χρόνο:

\

> Παιδί 1: 114 εκατοστά
>
> Παιδί 2: 113 εκατοστά
>
> Παιδί 3: 110 εκατοστά
>
> Παιδί 4: 116 εκατοστά
>
> Παιδί 5: 112 εκατοστά

## Σφάλματα στον έλεγχο υποθέσεων

\

> **Ορισμός**
>
> Το **Σφάλμα Τύπου I** συμβαίνει όταν ο/η ερευνητής/τρια απορρίπτει την $H_0$,
> όταν στην πραγματικότητα αυτή είναι αληθής.

\

Η στάθμη σημαντικότητας για έναν έλεγχο υποθέσεων είναι η πιθανότητα ο έλεγχος
να καταλήξει σε Σφάλμα Τύπου I.

## Σφάλματα στον έλεγχο υποθέσεων

> **Ορισμός**
>
> Το **Σφάλμα Τύπου II** συμβαίνει όταν ο/η ερευνητής/τρια αποτυγχάνει να
> απορρίψει την $H_0$, όταν στην πραγματικότητα αυτή **δεν** είναι αληθής.


## Ένα (εντελώς) χαζό παράδειγμα

Τυπώσατε 100 έγχρωμα ενημερωτικά φυλλάδια για την πτυχιακή σας
εργασία. Πληρώσατε ακριβά για χοντρό, ποιοτικό χαρτί των 120 γραμμαρίων (gsm:
γραμμάρια ανά τετραγωνικό μέτρο χαρτιού).

\

Όταν τα παραλαμβάνετε, σας φαίνονται λίγο "λεπτά" στο χέρι. Υποψιάζεστε ότι το
τυπογραφείο χρησιμοποίησε φθηνότερο χαρτί για να γλιτώσει κόστος

## Ένα (εντελώς) χαζό παράδειγμα

Γνωρίζουμε από τον κατασκευαστή του χαρτιού που χρησιμοποιήθηκε ότι:

* Μέσος όρος είναι 120 gsm.
* Τυπική απόκλιση ($\sigma$) είναι 2.

## Ένα (εντελώς) χαζό παράδειγμα

Θέλετε να το ελέγξετε, αλλά δεν μπορείτε να ζυγίσετε απευθείας τα φυλλάδια,
γιατί το βάρος του μελανιού θα επηρεάσει τις μετρήσεις.

\

Υπάρχει ένα τετράγωνο εμβαδού $10\times 10$ εκατοστών που είναι λευκό.

\

Για να το πάρετε όμως πρέπει να κόψετε το κομμάτι και να το ζυγίσετε, οπότε αποφασίζετε να πάρετε ένα δείγμα 5 φυλλαδίων.

## Ένα (εντελώς) χαζό παράδειγμα

Οι μετρήσεις που πήρατε για κάθε κομματάκι είναι:

> Κομμάτι 1: 1.17 γραμμάρια
>
> Κομμάτι 2: 1.16 γραμμάρια
>
> Κομμάτι 3: 1.18 γραμμάρια
>
> Κομμάτι 4: 1.15 γραμμάρια
>
> Κομμάτι 5: 1.19 γραμμάρια

\

Σας έκελψε το τυπογραφείο;

# t-test

## Γιατί;

\

Μέχρι τώρα θεωρούσαμε την τυπική απόκλιση γνωστή.

\

Κατ' επέκταση, θεωρούσαμε το τυπικό σφάλμα γνωστό.

\

Δεν είναι έτσι στην πράξη.

## Εκτίμηση τυπικού σφάλματος

Το τυπικό σφάλμα δίνεται από τη σχέση:

$$
\text{se} = \frac{\sigma}{\sqrt{n}}
$$

Καθώς δε γνωρίζουμε το $\sigma$, το εκτιμούμε από το δείγμα:

$$
s = \sqrt{\frac{\sum_{i = 1}^n(x_i-\bar{x})^2}{n - 1}}
$$

## Εκτίμηση τυπικού σφάλματος

\

Η εκτίμησή μας για το τυπικό σφάλμα με βάση το δείγμα μεγέθους $n$ είναι:

$$
\text{se} = \frac{s}{\sqrt{n}}
$$

## Κατασκευή του ελέγχου

\

Το στατιστικό του πρηγούμενου ελέγχου (z-test), τώρα γίνεται:

$$
t = \frac{\bar{x} - \mu}{\frac{s}{\sqrt{n}}} \sim t_{n-1},
$$

όπου $t_{n-1}$ είναι η κανομή Student με $n-1$ βαθμούς ελευθερίας.

## Η κατανομή Student

```{r}

#| echo: false
#| eval: true


# Create a sequence of x values
x_values <- seq(-4, 4, length.out = 500)

# Define degrees of freedom to compare
df_values <- c(1, 2, 5, 10, 30)

# Create data frame with distributions
distribution_data <- tidyr::expand_grid(
  x = x_values,
  df = df_values
) |>
  dplyr::mutate(
    density = dt(x, df = df),
    Distribution = paste0("t(", df, ")")
  ) |>
  dplyr::bind_rows(
    tibble::tibble(
      x = x_values,
      df = Inf,
      density = dnorm(x),
      Distribution = "Κανονική"
    )
  ) |>
  dplyr::mutate(
    Distribution = factor(Distribution, 
                         levels = c("t(1)", "t(2)", "t(5)", "t(10)", "t(30)", "Κανονική"))
  )

# Create the plot
p <- ggplot2::ggplot(distribution_data, ggplot2::aes(x = x, y = density, color = Distribution, linewidth = Distribution)) +
  ggplot2::geom_line() +
  ggplot2::scale_color_manual(
    values = c("t(1)" = "gray70", "t(2)" = "gray60", "t(5)" = "gray50", 
               "t(10)" = "gray40", "t(30)" = "steelblue", "Κανονική" = "darkblue")
  ) +
  ggplot2::scale_linewidth_manual(
    values = c("t(1)" = 0.6, "t(2)" = 0.6, "t(5)" = 0.6, 
               "t(10)" = 0.6, "t(30)" = 0.8, "Κανονική" = 1.2)
  ) +
  ggplot2::labs(
    title = "Κατανομές t του Student με αυξανόμενους βαθμούς ελευθερίας",
    subtitle = "Σύγκριση με την τυπική κανονική κατανομή",
    x = "x",
    y = "Πυκνότητα πιθανότητας",
    color = "Κατανομή",
    linewidth = "Κατανομή"
  ) +
  ggplot2::theme_minimal() +
  ggplot2::theme(
    plot.title = ggplot2::element_text(size = 17, face = "bold", hjust = 0.5, family = "sans"),
    plot.subtitle = ggplot2::element_text(size = 13, hjust = 0.5, family = "sans"),
    axis.title = ggplot2::element_text(size = 11, family = "sans"),
    axis.text = ggplot2::element_text(size = 10, family = "sans"),
    legend.position = "right",
    legend.title = ggplot2::element_blank(),
    legend.text = ggplot2::element_text(size = 10, family = "sans"),
    panel.grid.minor = ggplot2::element_blank(),
    panel.grid.major = ggplot2::element_line(color = "gray90")
  )

print(p)

```
